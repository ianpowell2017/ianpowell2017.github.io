<!DOCTYPE html><html lang="en" data-mode="light" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Adding Redux to a React app" /><meta name="author" content="Ian Powell" /><meta property="og:locale" content="en" /><meta name="description" content="Why do we need Redux in a React app?" /><meta property="og:description" content="Why do we need Redux in a React app?" /><link rel="canonical" href="http://ian.ijpuk.com/posts/adding-redux-to-a-react-site/" /><meta property="og:url" content="http://ian.ijpuk.com/posts/adding-redux-to-a-react-site/" /><meta property="og:site_name" content="Developer notes" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2022-06-10T18:32:00+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Adding Redux to a React app" /><meta name="twitter:site" content="@busydev" /><meta name="twitter:creator" content="@busydev" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"Ian Powell","url":"https://ian.ijpuk.com/"},"dateModified":"2022-06-23T19:48:49+01:00","datePublished":"2022-06-10T18:32:00+01:00","description":"Why do we need Redux in a React app?","headline":"Adding Redux to a React app","mainEntityOfPage":{"@type":"WebPage","@id":"http://ian.ijpuk.com/posts/adding-redux-to-a-react-site/"},"url":"http://ian.ijpuk.com/posts/adding-redux-to-a-react-site/"}</script><title>Adding Redux to a React app | Developer notes</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Developer notes"><meta name="application-name" content="Developer notes"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/Profile-Head.gif" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Developer notes</a></div><div class="site-subtitle font-italic">Every day is a school day</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info-circle ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/ianpowell2017" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/busydev" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['ian','ijpuk.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper" class="row justify-content-center"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Adding Redux to a React app</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Adding Redux to a React app</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1654882320" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 10, 2022 </em> </span> <span> Updated <em class="" data-ts="1656010129" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jun 23, 2022 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://ian.ijpuk.com/">Ian Powell</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1616 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><h2 id="why-do-we-need-redux-in-a-react-app"><span class="mr-2">Why do we need Redux in a React app?</span><a href="#why-do-we-need-redux-in-a-react-app" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>In a large application you will commonly have a large amount of state. The solutions are either to have the state in the most parent component and pass the values down via props or each component has local state.</p><ul><li>Passing as props becomes problematic on pages with many controls.<li>Components managing own state causes problem if needed to be modified at a different location in the page.</ul><p>The solution therefore is to use <code class="language-plaintext highlighter-rouge">Redux</code> which defines specific <strong>Actions</strong> and <strong>Reducers</strong> to manage access to state.</p><h2 id="getting-started"><span class="mr-2">Getting started</span><a href="#getting-started" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>In Visual Studio Code, open command line to the root of the React project and run <code class="language-plaintext highlighter-rouge">npm install redux react-redux</code><li>Inside the src folder, create <code class="language-plaintext highlighter-rouge">store.js</code></ul><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span><span class="p">,</span> <span class="nx">combineReducers</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">todos</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./todos/reducers</span><span class="dl">'</span><span class="p">;</span> <span class="c1">// Include reducers</span>
<span class="kd">const</span> <span class="nx">reducers</span> <span class="o">=</span> <span class="p">{</span>
    <span class="nx">todos</span><span class="p">,</span>
<span class="p">};</span>
<span class="kd">const</span> <span class="nx">rootReducer</span> <span class="o">=</span> <span class="nx">combineReducers</span><span class="p">(</span><span class="nx">reducers</span><span class="p">);</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">configureStore</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">rootReducer</span><span class="p">);</span>
</pre></table></code></div></div><p>Open <code class="language-plaintext highlighter-rouge">index.js</code> and add</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">Provider</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-redux</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">configureStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./store</span><span class="dl">'</span><span class="p">;</span>
</pre></table></code></div></div><p>Wrap the <code class="language-plaintext highlighter-rouge">&lt;App /&gt;</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Provider</span> <span class="nx">store</span><span class="o">=</span><span class="p">{</span><span class="nx">configureStore</span><span class="p">()}</span> <span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span>
    <span class="o">&lt;</span><span class="sr">/Provider&gt;</span><span class="err">,
</span>    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">),</span>
<span class="p">);</span>
</pre></table></code></div></div><p><a href="/assets/misc/Ex_Files_Building_Modern_Projects_React.zip">See more in the attended learning course examples -&gt; CH03</a></p><h2 id="to-maintain-state-across-browser-refreshes-use-redux-persist"><span class="mr-2">To maintain state across browser refreshes use <code class="language-plaintext highlighter-rouge"><span class="mr-2">Redux Persist</code></span><a href="#to-maintain-state-across-browser-refreshes-use-redux-persist" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><code class="language-plaintext highlighter-rouge">npm install redux-persist</code></p><p>Update <code class="language-plaintext highlighter-rouge">store.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">persistReducer</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-persist</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">storage</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-persist/lib/storage</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">autoMergeLevel2</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-persist/lib/stateReconciler/autoMergeLevel2</span><span class="dl">'</span><span class="p">;</span>
</pre></table></code></div></div><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">rootReducer</span> <span class="o">=</span> <span class="nx">combineReducers</span><span class="p">(</span><span class="nx">reducers</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">persistConfig</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">key</span><span class="p">:</span> <span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">,</span>
    <span class="nx">storage</span><span class="p">,</span> <span class="c1">// Defaults to local storage in the browser</span>
    <span class="na">stateReconciler</span><span class="p">:</span> <span class="nx">autoMergeLevel2</span><span class="p">,</span>
<span class="p">};</span>

<span class="kd">const</span> <span class="nx">persistedReducer</span> <span class="o">=</span> <span class="nx">persistReducer</span><span class="p">(</span><span class="nx">persistConfig</span><span class="p">,</span> <span class="nx">rootReducer</span><span class="p">);</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">configureStore</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">createStore</span><span class="p">(</span><span class="nx">persistedReducer</span><span class="p">);</span>
</pre></table></code></div></div><p>Update <code class="language-plaintext highlighter-rouge">index.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">persistStore</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-persist</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">PersistGate</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-persist/lib/integration/react</span><span class="dl">'</span><span class="p">;</span>
</pre></table></code></div></div><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">store</span> <span class="o">=</span> <span class="nx">configureStore</span><span class="p">();</span>
<span class="kd">const</span> <span class="nx">persistor</span> <span class="o">=</span> <span class="nx">persistStore</span><span class="p">(</span><span class="nx">store</span><span class="p">);</span>

<span class="nx">ReactDOM</span><span class="p">.</span><span class="nx">render</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">Provider</span> <span class="nx">store</span><span class="o">=</span><span class="p">{</span><span class="nx">store</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">PersistGate</span>
            <span class="nx">loading</span><span class="o">=</span><span class="p">{</span><span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">Loading</span><span class="p">...</span><span class="o">&lt;</span><span class="sr">/div&gt;</span><span class="err">}
</span>            <span class="nx">persistor</span><span class="o">=</span><span class="p">{</span><span class="nx">persistor</span><span class="p">}</span><span class="o">&gt;</span>
            <span class="o">&lt;</span><span class="nx">App</span> <span class="o">/&gt;</span>
        <span class="o">&lt;</span><span class="sr">/PersistGate</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Provider&gt;</span><span class="err">,
</span>    <span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">root</span><span class="dl">'</span><span class="p">),</span>
<span class="p">);</span>
</pre></table></code></div></div><h3 id="redux-devtools"><span class="mr-2"><code class="language-plaintext highlighter-rouge"><span class="mr-2">Redux DevTools</code></span><a href="#redux-devtools" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Add this Chrome extension to make development with Redux easier!</p><p>Also update <code class="language-plaintext highlighter-rouge">store.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">configureStore</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> 
    <span class="nx">createStore</span><span class="p">(</span>
        <span class="nx">persistedReducer</span><span class="p">,</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">__REDUX_DEVTOOLS_EXTENSION__</span> <span class="o">&amp;&amp;</span>
        <span class="nb">window</span><span class="p">.</span><span class="nx">__REDUX_DEVTOOLS_EXTENSION__</span><span class="p">(),</span> <span class="c1">// This connects our app to the redux extension</span>
    <span class="p">);</span>
</pre></table></code></div></div><h2 id="redux-best-practices"><span class="mr-2">Redux Best Practices</span><a href="#redux-best-practices" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><ul><li>Export the connected and unconnected versions of a component<ul><li><code class="language-plaintext highlighter-rouge">export const TodoList = ...</code> So we can test the component as is<li><code class="language-plaintext highlighter-rouge">export default connect(mapStateToProps, mapDispatchToProps)(TodoList);</code> For the application</ul><li>Keep Redux actions and async operations out of your reducers<li>Think carefully about connecting components - ‘Connecting a component can, in practice, make it less reusable.’</ul><hr /><h2 id="why-use-a-side-effect-library"><span class="mr-2">Why use a side-effect library</span><a href="#why-use-a-side-effect-library" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Move <strong>data fetching or sending</strong> outside of a component, components should only be responsible to displaying or taking user input, into a side effect library like <em>Redux Thunk</em> or <em>Redux Saga</em>. <em>Redux Thunk</em> is a simpler library to learn.</p><h3 id="install-and-configure-redux-thunk"><span class="mr-2">Install and configure <code class="language-plaintext highlighter-rouge"><span class="mr-2">Redux Thunk</code></span><a href="#install-and-configure-redux-thunk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><a href="/assets/misc/Ex_Files_Building_Modern_Projects_React.zip">See CH04 in the example bundle</a></p><p><code class="language-plaintext highlighter-rouge">npm install redux-thunk redux-devtools-extension @babel/runtime</code></p><p><code class="language-plaintext highlighter-rouge">npm install --save-dev @babel/plugin-transform-runtime</code></p><p>open <code class="language-plaintext highlighter-rouge">.babelrc</code> file</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="p">{</span>
    <span class="dl">"</span><span class="s2">presets@: [</span><span class="dl">"</span><span class="p">@</span><span class="nd">babel</span><span class="sr">/preset-env", "@babel/</span><span class="nx">preset</span><span class="o">-</span><span class="nx">react</span><span class="dl">"</span><span class="s2">],
    </span><span class="dl">"</span><span class="nx">plugins</span><span class="dl">"</span><span class="s2">: [</span><span class="dl">"</span><span class="p">@</span><span class="nd">babel</span><span class="sr">/plugin-transform-runtime"</span><span class="err">]
</span><span class="p">}</span>
</pre></table></code></div></div><p>open <code class="language-plaintext highlighter-rouge">store.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">createStore</span><span class="p">,</span> <span class="nx">combineReducers</span><span class="p">,</span> <span class="nx">applyMiddleware</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">thunk</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-thunk</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">composeWithDevTools</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux-devtools-extension</span><span class="dl">'</span><span class="p">;</span>
</pre></table></code></div></div><p>Update following section</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">configureStore</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> 
    <span class="nx">createStore</span><span class="p">(</span>
        <span class="nx">persistedReducer</span><span class="p">,</span>
        <span class="nx">composeWithDevTools</span><span class="p">(</span>
            <span class="nx">applyMiddleware</span><span class="p">(</span><span class="nx">thunk</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="p">);</span>
</pre></table></code></div></div><h3 id="add-first-simple-thunk"><span class="mr-2">Add first simple thunk</span><a href="#add-first-simple-thunk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Create <code class="language-plaintext highlighter-rouge">thunk.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">displayAlert</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="dl">"</span><span class="s2">Hello!</span><span class="dl">"</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><p>Open a React component and add</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">displayAlert</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./thunks</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">mapStateToProps</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=</span> <span class="p">({</span>
    <span class="na">todos</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">,</span>
<span class="p">});</span>

<span class="kd">const</span> <span class="nx">mapDispatchToProps</span> <span class="o">=</span> <span class="nx">dispatch</span> <span class="o">=&gt;</span> <span class="p">({</span>
    <span class="na">onRemovePressed</span><span class="p">:</span> <span class="nx">text</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span><span class="p">(</span><span class="nx">removeTodo</span><span class="p">(</span><span class="nx">text</span><span class="p">)),</span>
    <span class="na">onCompletedPressed</span><span class="p">:</span> <span class="nx">text</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span><span class="p">(</span><span class="nx">markTodoAsCompleted</span><span class="p">(</span><span class="nx">text</span><span class="p">)),</span>
    <span class="na">onDisplayAlertClicked</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="nx">dispatch</span><span class="p">(</span><span class="nx">displayAlert</span><span class="p">()),</span>
<span class="p">})</span>
</pre></table></code></div></div><h3 id="async-thunk"><span class="mr-2">Async thunk</span><a href="#async-thunk" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Add to <code class="language-plaintext highlighter-rouge">thunk.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">loadTodosInProgress</span><span class="p">,</span> <span class="nx">loadTodosSuccess</span><span class="p">,</span> <span class="nx">loadTodosFailure</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./actions</span><span class="dl">'</span><span class="p">;</span>


<span class="k">export</span> <span class="kd">const</span> <span class="nx">loadTodos</span> <span class="o">=</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="k">async</span> <span class="p">(</span><span class="nx">dispatch</span><span class="p">,</span> <span class="nx">getState</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">try</span>
    <span class="p">{</span>
        <span class="nx">dispatch</span><span class="p">(</span><span class="nx">loadTodosInProgress</span><span class="p">());</span>
        <span class="kd">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://localhost:8080/todos</span><span class="dl">'</span><span class="p">);</span>
        <span class="kd">const</span> <span class="nx">todos</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">response</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>

        <span class="nx">dispatch</span><span class="p">(</span><span class="nx">loadTodosSuccess</span><span class="p">(</span><span class="nx">todos</span><span class="p">));</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">e</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">dispatch</span><span class="p">(</span><span class="nx">loadTodosFailure</span><span class="p">());</span>
        <span class="nx">dispatch</span><span class="p">(</span><span class="nx">displayAlert</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span>
    <span class="p">}</span>    
<span class="p">}</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">displayAlert</span> <span class="o">=</span> <span class="nx">text</span> <span class="o">=&gt;</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">alert</span><span class="p">(</span><span class="nx">text</span><span class="p">);</span>
<span class="p">}</span>
</pre></table></code></div></div><hr /><h2 id="selectors"><span class="mr-2">Selectors</span><a href="#selectors" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Selectors give us a place to put logic for combining, filtering, transforming storing data. This way if/when the way the data is stored in state changes, you only have to update the <code class="language-plaintext highlighter-rouge">selectors.js</code> file</p><p><a href="/assets/misc/Ex_Files_Building_Modern_Projects_React.zip">See CH05 in the example bundle</a></p><p>Create <code class="language-plaintext highlighter-rouge">selectors.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre><td class="rouge-code"><pre><span class="k">export</span> <span class="kd">const</span> <span class="nx">getToDos</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">getToDosLoading</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">;</span>
</pre></table></code></div></div><p>Replace</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>
<span class="kd">const</span> <span class="nx">mapStateToProps</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=</span> <span class="p">({</span>
    <span class="na">isLoading</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">,</span>
    <span class="na">todos</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">,</span>
<span class="p">});</span>
</pre></table></code></div></div><p>with</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">getToDos</span><span class="p">,</span> <span class="nx">getToDosLoading</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./selectors</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">mapStateToProps</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=</span> <span class="p">({</span>
    <span class="na">isLoading</span><span class="p">:</span> <span class="nx">getToDosLoading</span><span class="p">(</span><span class="nx">state</span><span class="p">),</span>
    <span class="na">todos</span><span class="p">:</span> <span class="nx">getToDos</span><span class="p">(</span><span class="nx">state</span><span class="p">),</span>
<span class="p">});</span>
</pre></table></code></div></div><hr /><h2 id="reselect"><span class="mr-2">Reselect</span><a href="#reselect" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Enables you to create more complicated <em>selectors</em>, additionally it has the extra benefit not re-computing the selector <em>IF</em> the data in state hasn’t changed, it gives the previously computed value.</p><h3 id="install"><span class="mr-2">Install</span><a href="#install" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">npm install reselect</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">createSelector</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">reselect</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getToDos</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">getToDosLoading</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getIncompleteTodos</span> <span class="o">=</span> <span class="nx">createSelector</span><span class="p">(</span>
    <span class="nx">getTodos</span><span class="p">,</span>
    <span class="p">(</span><span class="nx">todos</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">todo</span><span class="p">.</span><span class="nx">isCompleted</span><span class="p">),</span>
<span class="p">)</span>
</pre></table></code></div></div><p>The final parameter in the <em>createSelector</em> method gets all the previous values as arguments into the function specified.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">createSelector</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">reselect</span><span class="dl">'</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getToDos</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">data</span><span class="p">;</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">getToDosLoading</span> <span class="o">=</span> <span class="nx">state</span> <span class="o">=&gt;</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nx">isLoading</span><span class="p">;</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">getIncompleteTodos</span> <span class="o">=</span> <span class="nx">createSelector</span><span class="p">(</span>
    <span class="nx">getTodos</span><span class="p">,</span>
    <span class="nx">getTodosLoading</span><span class="p">,</span>
    <span class="p">(</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">isLoading</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">todos</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="o">!</span><span class="nx">todo</span><span class="p">.</span><span class="nx">isCompleted</span><span class="p">),</span>
<span class="p">)</span>
</pre></table></code></div></div><hr /><h2 id="styled-components"><span class="mr-2">Styled components</span><a href="#styled-components" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Allow us to define styles inside our JavaScript files</p><p><a href="/assets/misc/Ex_Files_Building_Modern_Projects_React.zip">See CH06 in the example bundle</a></p><p><code class="language-plaintext highlighter-rouge">npm install styled-components</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="nx">styled</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">styled-components</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">BigRedText</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
    font-size: 48px;
    color: #ff0000;
`</span><span class="p">;</span>
</pre></table></code></div></div><p>Can now be used like any other component</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nx">BigRedText</span><span class="o">&gt;</span><span class="nx">I</span><span class="dl">'</span><span class="s1">m a Styled-Component&lt;/BigRedText&gt;
</span></pre></table></code></div></div><p>In addition to <em>styled.div</em> can also use</p><ul><li>styled.h1<li>styled.button<li>styled.(and any other html element name here)</ul><p>This now means that we can pass props into <em>BigRedText</em> eg.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="o">&lt;</span><span class="nx">BigRedText</span> <span class="nx">createdDays</span><span class="o">=</span><span class="p">{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">numberOfDays</span><span class="p">}</span><span class="o">&gt;&lt;</span><span class="sr">/BigRedText</span><span class="err">&gt;
</span></pre></table></code></div></div><p>Now the style changes based on the <em>numberOfDays</em></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">BigRedText</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
    font-size: </span><span class="p">${</span><span class="nx">props</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">createdDays</span> <span class="o">&gt;</span> <span class="mi">4</span>
    <span class="p">?</span> <span class="dl">'</span><span class="s1">48px</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">96px</span><span class="dl">'</span><span class="p">)}</span><span class="s2">;
    color: #ff0000;
`</span><span class="p">;</span>
</pre></table></code></div></div><p>You can also <strong>Inherit</strong> styles</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">BigRedTextWithWarning</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">(</span><span class="nx">BigRedText</span><span class="p">)</span><span class="s2">`
    color: #ff0000;
    font-size: x-large;
`</span><span class="p">;</span>
</pre></table></code></div></div><hr /><h2 id="testing"><span class="mr-2">Testing</span><a href="#testing" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p><a href="/assets/misc/Ex_Files_Building_Modern_Projects_React.zip">See CH07 in the example bundle</a></p><h3 id="setup"><span class="mr-2">Setup</span><a href="#setup" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p><code class="language-plaintext highlighter-rouge">npm install --save-dev mocha chai</code></p><p><code class="language-plaintext highlighter-rouge">npm install --save-dev @babel/register</code></p><p><code class="language-plaintext highlighter-rouge">npm install --save-dev sinon node-fetch fetch-mock</code></p><p>Modify <code class="language-plaintext highlighter-rouge">package.json</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
</pre><td class="rouge-code"><pre><span class="dl">"</span><span class="s2">test</span><span class="dl">"</span><span class="p">:</span> <span class="dl">"</span><span class="s2">mocha </span><span class="se">\"</span><span class="s2">src/**/*.test.js</span><span class="se">\"</span><span class="s2"> --require @babel/register --recursive</span><span class="dl">"</span>
</pre></table></code></div></div><p><code class="language-plaintext highlighter-rouge">npm run test</code> to run test suite.</p><h3 id="testing-reducers"><span class="mr-2">Testing Reducers</span><a href="#testing-reducers" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>Create <code class="language-plaintext highlighter-rouge">tests</code> folder, Create <code class="language-plaintext highlighter-rouge">reducers.test.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">expect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">chai</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">todos</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../reducers</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">The todos reducer</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">Adds a new todo where CREATE_TODO action is received</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">fakeTodo</span> <span class="o">=</span> <span class="p">{</span> <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span><span class="p">,</span> <span class="na">isCompleted</span><span class="p">:</span> <span class="kc">false</span> <span class="p">};</span>
        <span class="kd">const</span> <span class="nx">fakeAction</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">CREATE_TODO</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">payload</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">todo</span><span class="p">:</span> <span class="nx">fakeTodo</span><span class="p">,</span>
            <span class="p">},</span>
        <span class="p">};</span>

        <span class="kd">const</span> <span class="nx">originalState</span> <span class="o">=</span> <span class="p">{</span> <span class="na">isLoading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span> <span class="na">data</span><span class="p">:</span> <span class="p">[]</span> <span class="p">};</span>

        <span class="kd">const</span> <span class="nx">expected</span> <span class="o">=</span> <span class="p">{</span>
            <span class="na">isLoading</span><span class="p">:</span> <span class="kc">false</span><span class="p">,</span>
            <span class="na">data</span><span class="p">:</span> <span class="p">[</span><span class="nx">fakeTodo</span><span class="p">],</span>
        <span class="p">};</span>

        <span class="kd">const</span> <span class="nx">actual</span> <span class="o">=</span> <span class="nx">todos</span><span class="p">(</span><span class="nx">originalState</span><span class="p">,</span> <span class="nx">fakeAction</span><span class="p">);</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
    <span class="p">});</span>
<span class="p">});</span>
</pre></table></code></div></div><h3 id="testing-redux-thunks"><span class="mr-2">Testing Redux Thunks</span><a href="#testing-redux-thunks" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In <code class="language-plaintext highlighter-rouge">tests</code> folder, Create <code class="language-plaintext highlighter-rouge">thunks.test.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="dl">'</span><span class="s1">node-fetch</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="dl">'</span><span class="s1">fetchMock</span><span class="dl">'</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">fetch-mock</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">expect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">chai</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="nx">sinon</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">sinon</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">loadTodos</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../thunks</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">The loadTodos thunk</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">Dispatches the correct actions in the success scenario</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">fakeDispatch</span> <span class="o">=</span> <span class="nx">sinon</span><span class="p">.</span><span class="nx">spy</span><span class="p">();</span>

        <span class="kd">const</span> <span class="nx">fakeTodos</span> <span class="o">=</span> <span class="p">[{</span> <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">1</span><span class="dl">'</span><span class="p">},</span> <span class="p">{</span> <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2</span><span class="dl">'</span> <span class="p">}];</span>
        <span class="nx">fetchMock</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">http://localhost:8080/todos</span><span class="dl">'</span><span class="p">,</span> <span class="nx">fakeTodos</span><span class="p">);</span>

        <span class="kd">const</span> <span class="nx">expectedFirstAction</span> <span class="o">=</span> <span class="p">{</span> <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LOAD_TODOS_IN_PROGRESS</span><span class="dl">'</span> <span class="p">};</span>
        <span class="kd">const</span> <span class="nx">expectedSecondAction</span> <span class="o">=</span> <span class="p">{</span> 
            <span class="na">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">LOAD_TODOS_SUCCESS</span><span class="dl">'</span><span class="p">,</span> 
            <span class="na">payload</span><span class="p">:</span> <span class="p">{</span>
                <span class="na">todos</span><span class="p">:</span> <span class="nx">fakeTodos</span><span class="p">,</span>
            <span class="p">}</span>
        <span class="p">};</span>

        <span class="k">await</span> <span class="nx">loadTodos</span><span class="p">()(</span><span class="nx">fakeDispatch</span><span class="p">);</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">fakeDispatch</span><span class="p">.</span><span class="nx">getCall</span><span class="p">(</span><span class="mi">0</span><span class="p">).</span><span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">to</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">expectedFirstAction</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">fakeDispatch</span><span class="p">.</span><span class="nx">getCall</span><span class="p">(</span><span class="mi">1</span><span class="p">).</span><span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">to</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">expectedSecondAction</span><span class="p">);</span>

        <span class="nx">fetchMock</span><span class="p">.</span><span class="nx">reset</span><span class="p">();</span> <span class="c1">// Restore to original state</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></table></code></div></div><h3 id="testing-selectors"><span class="mr-2">Testing Selectors</span><a href="#testing-selectors" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>In <code class="language-plaintext highlighter-rouge">tests</code> folder, Create <code class="language-plaintext highlighter-rouge">selectors.test.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">expect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">chai</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">getCompletedTodos</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../selectors</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">The getCompletedTodos selector</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">Returns only completed todos</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">fakeTodos</span> <span class="o">=</span> <span class="p">[{</span>
            <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Say hello</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">isCompleted</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Say Goodbye</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">isCompleted</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">},</span> <span class="p">{</span>
            <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Climb Mount Everest</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">isCompleted</span><span class="p">:</span> <span class="kc">false</span>
        <span class="p">}];</span>

        <span class="kd">const</span> <span class="nx">expected</span> <span class="o">=</span> <span class="p">[{</span>
            <span class="na">text</span><span class="p">:</span> <span class="dl">'</span><span class="s1">Say hello</span><span class="dl">'</span><span class="p">,</span>
            <span class="na">isCompleted</span><span class="p">:</span> <span class="kc">true</span>
        <span class="p">}];</span>
        
        <span class="c1">/// Note the .resultFunc to get the last function which you're testing</span>
        <span class="kd">const</span> <span class="nx">actual</span> <span class="o">=</span> <span class="nx">getCompletedTodos</span><span class="p">.</span><span class="nx">resultFunc</span><span class="p">(</span><span class="nx">fakeTodos</span><span class="p">);</span>

        <span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">deep</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="nx">expected</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></table></code></div></div><h3 id="testing-styled-components"><span class="mr-2">Testing Styled Components</span><a href="#testing-styled-components" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h3><p>We won’t be testing the style output, what we can test is the function which determines the style output.</p><p>Just extract into an export function and test that.</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre><span class="kd">const</span> <span class="nx">BigRedText</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
    font-size: </span><span class="p">${</span><span class="nx">props</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">createdDays</span> <span class="o">&gt;</span> <span class="mi">4</span>
    <span class="p">?</span> <span class="dl">'</span><span class="s1">48px</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">96px</span><span class="dl">'</span><span class="p">)}</span><span class="s2">;
    color: #ff0000;
`</span><span class="p">;</span>
</pre></table></code></div></div><p>Convert to</p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
</pre><td class="rouge-code"><pre>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">getStyleForCreated</span> <span class="o">=</span> <span class="p">(</span><span class="nx">days</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">(</span><span class="nx">days</span> <span class="o">&gt;</span> <span class="mi">4</span> <span class="p">?</span> <span class="dl">'</span><span class="s1">48px</span><span class="dl">'</span> <span class="p">:</span> <span class="dl">'</span><span class="s1">96px</span><span class="dl">'</span><span class="p">);</span>

<span class="kd">const</span> <span class="nx">BigRedText</span> <span class="o">=</span> <span class="nx">styled</span><span class="p">.</span><span class="nx">div</span><span class="s2">`
    font-size: </span><span class="p">${</span><span class="nx">props</span> <span class="o">=&gt;</span> <span class="nx">getStyleForCreated</span><span class="p">(</span><span class="nx">props</span><span class="p">.</span><span class="nx">createdDays</span><span class="p">)}</span><span class="s2">;
    color: #ff0000;
`</span><span class="p">;</span>
</pre></table></code></div></div><p>In <code class="language-plaintext highlighter-rouge">tests</code> folder, Create <code class="language-plaintext highlighter-rouge">COMPONENT-NAME.test.js</code></p><div class="language-javascript highlighter-rouge"><div class="code-header"> <span data-label-text="JavaScript"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre><span class="k">import</span> <span class="p">{</span> <span class="nx">expect</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">chai</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">getStyleForCreated</span> <span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">../COMPONENT-NAME</span><span class="dl">'</span><span class="p">;</span>

<span class="nx">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">getStyleForCreated</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">Returns 48px when days &gt; 4</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">actual</span> <span class="o">=</span> <span class="nx">getStyleForCreated</span><span class="p">(</span><span class="mi">10</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="dl">'</span><span class="s1">48px</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>

    <span class="nx">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">Returns 96px when days &lt;= 4</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
        <span class="kd">const</span> <span class="nx">actual</span> <span class="o">=</span> <span class="nx">getStyleForCreated</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
        <span class="nx">expect</span><span class="p">(</span><span class="nx">actual</span><span class="p">).</span><span class="nx">to</span><span class="p">.</span><span class="nx">equal</span><span class="p">(</span><span class="dl">'</span><span class="s1">96px</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>

<span class="p">});</span>
</pre></table></code></div></div></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/learning/'>learning</a></div><div class="post-tags"> <i class="fa fa-tags fa-fw mr-1"></i> <a href="/tags/js/" class="post-tag no-text-decoration" >js</a> <a href="/tags/react-js/" class="post-tag no-text-decoration" >react-js</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Adding+Redux+to+a+React+app+-+Developer+notes&url=http%3A%2F%2Fian.ijpuk.com%2Fposts%2Fadding-redux-to-a-react-site%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Adding+Redux+to+a+React+app+-+Developer+notes&u=http%3A%2F%2Fian.ijpuk.com%2Fposts%2Fadding-redux-to-a-react-site%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://t.me/share/url?url=http%3A%2F%2Fian.ijpuk.com%2Fposts%2Fadding-redux-to-a-react-site%2F&text=Adding+Redux+to+a+React+app+-+Developer+notes" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"><div id="access-lastmod" class="post"><div class="panel-heading">Recently Updated</div><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/posts/centos8-devops-buildagent/">Using Centos 8 Stream as a self hosted build agent</a><li><a href="/posts/agile-diary/">Agile sprint calendar</a><li><a href="/posts/work-items-branching-stratedgy/">Work items and branching strategy</a><li><a href="/posts/how-to-dockerize-a-visual-studio-project/">To dockerize a visual studio project</a><li><a href="/posts/useful-docker-commands/">Useful Docker commands</a></ul></div><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/best-practice/">best-practice</a> <a class="post-tag" href="/tags/aspnet/">aspnet</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/misc/">misc</a> <a class="post-tag" href="/tags/agile/">agile</a> <a class="post-tag" href="/tags/async-pattern/">async-pattern</a> <a class="post-tag" href="/tags/centos8/">centos8</a> <a class="post-tag" href="/tags/centos/">centos</a> <a class="post-tag" href="/tags/design-patterns/">design-patterns</a></div></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="tail-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/imediately-invoked-function-expression/"><div class="card-body"> <em class="small" data-ts="1469296440" data-df="ll" > Jul 23, 2016 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Immediately-Invoked Function Expression</h3><div class="text-muted small"><p> (function ($) { var model = { init: function () { } }, view = { init: function () { model.init(); } }, contro...</p></div></div></a></div><div class="card"> <a href="/posts/learning-rust/"><div class="card-body"> <em class="small" data-ts="1650700680" data-df="ll" > Apr 23, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Learning Rust</h3><div class="text-muted small"><p> Rust for Beginners - Watched all 35 videos The book Rust and WebAssembly Rust Playground IDE Rust Cookbook of getting started snippets</p></div></div></a></div><div class="card"> <a href="/posts/ssl-certificate-install/"><div class="card-body"> <em class="small" data-ts="1655983920" data-df="ll" > Jun 23, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>SSL certificate install</h3><div class="text-muted small"><p> SSL Certificates Why? An SSL certificate encrypts content sent from Server to Client and Client to server. It prevents Man in the middle attacks and instils confidence in the user as a lock icon ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/centos8-devops-buildagent/" class="btn btn-outline-primary" prompt="Older"><p>Using Centos 8 Stream as a self hosted build agent</p></a> <a href="/posts/linux-centos-notes/" class="btn btn-outline-primary" prompt="Newer"><p>Centos 8 notes</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center text-muted"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://twitter.com/busydev">Ian Powell</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><div id="access-tags"><div class="panel-heading">Trending Tags</div><div class="d-flex flex-wrap mt-3 mb-1 mr-3"> <a class="post-tag" href="/tags/c/">c#</a> <a class="post-tag" href="/tags/best-practice/">best-practice</a> <a class="post-tag" href="/tags/aspnet/">aspnet</a> <a class="post-tag" href="/tags/docker/">docker</a> <a class="post-tag" href="/tags/misc/">misc</a> <a class="post-tag" href="/tags/agile/">agile</a> <a class="post-tag" href="/tags/async-pattern/">async-pattern</a> <a class="post-tag" href="/tags/centos8/">centos8</a> <a class="post-tag" href="/tags/centos/">centos</a> <a class="post-tag" href="/tags/design-patterns/">design-patterns</a></div></div></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script>
